# XSS zaifliklarini exploit qilish

XSS zailigini topganingizni aniqlashni odatiy usuli bu alert funksiyasi orqali popup oynasini chiqarishdir. Bu degani XSS faqat mana shunday alert funksiyalarni chiqarish degani emas. Bu JavaScriptni web sayt ichdi bajarish mumkinligini aniqlashingizni eng oson yo'lidir. Balki ko'rgandirsiz ba'zi odamlar alert(document.domain) ni ham ishlatishadi. Bu qaysi domenda JavaScript bajarish mumkinligini aniqlashtirib olish uchun.

Ushbu bo'limda biz XSS zaifligidan foydalanishning eng mashhur va kuchli uchta usulini ko'rib chiqamiz.

## Cookie fayllarni olish uchun XSS dan foydalanish  <a href="#cookie-fayllarni-uxlatish-uchun-xss-dan-foydalanish" id="cookie-fayllarni-uxlatish-uchun-xss-dan-foydalanish"></a>

**Cookie**larni o'g'irlash bu an'anaviy XSS exploit turi hisoblanadi. Ko'pgina web saytlar sessiyani saqlash uchun **cookie**lardan foydalanadi. Siz XSS zaifligi orqali foydalanuvchinining cookielarini o'g'irlab va uning cookielaridan foydalanib o'sha web saytga aynan o'sha foydalanuvchi sifatida kirishingiz mumkin.

Real hujumlarda ushbu usulning bir qancha muhim kamchiliklari mavjud:

* Bu jabrlanuvchi saytda ro'yhatdan o'tmagan bo'lishi mumkin
* Ko'pgina web saytlar HttpOnly orqali cookielarini JavaScriptdan yashiradi
* Sessiyalar bloklangan bo'lishi mumkin, masalan foydalanuvchini IP manziliga qarab
* Sessiyani o'g'rilashingizdan oldin uning sessiya vaqti o'tib ketgan bo'lishi mumkin

:::caution **Lab**
 [Cookie fayllarni olish uchun XSS dan foydalanish  ≫](https://portswigger.net/web-security/cross-site-scripting/exploiting/lab-stealing-cookies)
:::

## Parollarni o'g'irlash uchun XSS dan foydalanish <a href="#parollarni-chopish-uchun-xss-dan-foydalanish" id="parollarni-chopish-uchun-xss-dan-foydalanish"></a>

Hozirgi kunlarda ko'pgina foydalanuvchilar password manager lar orqali avto to'ldirishdan foydalanishmoqda. Siz parolni kiritish, avtomatik to'ldirilgan parolni o'qish va uni o'zingizga yuborish orqali bundan foydalanishingiz mumkin. Ushbu usul cookie-fayllarni o'g'irlash bilan bog'liq bo'lgan ko'pgina muammolarsiz va hatto foydalanuvchi bir xil paroldan foydalangan boshqa har qanday loginga kirish huquqiga ega bo'lish mumkin.

Ushbu usulning asosiy kamchiligi shundaki, u faqat parolni avtomatik to'ldirishni amalga oshiradigan password menejerdan foydalanadigan foydalanuvchilarda ishlaydi. (Albatta, agar foydalanuvchida parol saqlanmasa, siz saytga fishing hujumi orqali parolni olishga harakat qilishingiz mumkin, ammo bu mutlaqo boshqa usul)

:::caution **Lab**
 [Parollarni o'g'irlash uchun XSS dan foydalanish ≫](https://portswigger.net/web-security/cross-site-scripting/exploiting/lab-capturing-passwords)
:::

## CSRFni amalga oshirish uchun XSS dan foydalanish <a href="#csrf-ni-amalga-oshirish-uchun-xss-dan-foydalanish" id="csrf-ni-amalga-oshirish-uchun-xss-dan-foydalanish"></a>

Foydalanuvchi web-saytda nima qilishi mumkin bo'lsa, siz buni XSS bilan ham qila olasiz. Siz nishonga olgan saytga qarab, foydalanuvchini xabar yuborishiga majburlashingiz, do'stlik so'rovini qabul qilishiga undashingiz, source kodlarining bazasiga backdoor ochishingiz yoki Bitcoinni transfer qilishingiz mumkin.

Ba'zi veb-saytlar tizimga kirgan foydalanuvchilarga parolni qayta kiritmasdan elektron pochta manzillarini o'zgartirishga ruxsat beradi. Agar siz XSS zaifligini aniqlagan bo'lsangiz, foydalanuvchini elektron pochta manzilini o'zingiz nazorat qiladigan manzilga o'zgartirish uchun ushbu funksiyani ishga tushirishingiz va akkauntfa kirish uchun parolni tiklash usulidan foydalanishingiz mumkin.

Ushbu turdagi exploit odatda **cross-site request forgery** (CSRF) deb nomlanadi, bu biroz tushunarsiz, chunki CSRF alohida zaiflik sifatida ham paydo bo'lishi mumkin. CSRF alohida zaiflik sifatida yuzaga kelganda, uni anti-CSRF tokenlari kabi strategiyalar yordamida tuzatish mumkin. Biroq, agar XSS zaifligi mavjud bo'lsa, bu strategiyalar hech qanday himoyani ta'minlamaydi.

:::caution **Lab**
 [CSRFni amalga oshirish uchun XSSdan foydalanish ≫](https://portswigger.net/web-security/cross-site-scripting/exploiting/lab-perform-csrf)
:::
